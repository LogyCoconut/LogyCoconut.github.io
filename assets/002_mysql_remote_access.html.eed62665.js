import{_ as a}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as l,c as i,a as e,b as t,d as r,e as n,r as s}from"./app.10c1064b.js";const c={},d=n('<h2 id="问题背景" tabindex="-1"><a class="header-anchor" href="#问题背景" aria-hidden="true">#</a> 问题背景</h2><p>开发环境与数据库不在一台机器上，需要远程访问数据库进行数据的增删改查。在安装完MySQL，<strong>确定开启远程连接权限</strong>的情况下，SQLyog还是提示 <code>1130 - Host XXX is not allowed to connect to this MySQL server</code> 。经过排查后发现，是因为安装数据库的机器的防火墙阻止了3306端口（MySQL的默认端口），将其开启即可顺利访问。</p><h2 id="远程连接授权" tabindex="-1"><a class="header-anchor" href="#远程连接授权" aria-hidden="true">#</a> 远程连接授权</h2><ul><li>查看mysql库中user表，首先选择数据库 <code>use mysql;</code> ，查看user表中的host、user信息 <code>select host, user from user;</code></li></ul><p><figure><img src="https://i.loli.net/2019/08/03/eQpOjSBJl9vKk1U.png" alt="user表" title="user表" loading="lazy"><figcaption>user表</figcaption></figure></p><ul><li><p>如果开发主机的IP没有在表中，则需要给开发主机授权， <code>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; WITH GRANT OPTION </code> ，这意味着赋予所有主机访问数据库的权限（如果只给单个主机则可以使用 <code>GRANT ALL PRIVILEGES ON *.* TO &#39;USERNAME&#39;@&#39;USERIP&#39; IDENTIFIED BY &#39;USERPASSWORD&#39; WITH GRANT OPTION; </code> ）</p></li><li><p>刷新权限 <code>FLUSH PRIVILEGES</code></p></li></ul><h2 id="开启mysql主机防火墙的3306端口" tabindex="-1"><a class="header-anchor" href="#开启mysql主机防火墙的3306端口" aria-hidden="true">#</a> 开启MySQL主机防火墙的3306端口</h2><blockquote><p>以Win10为例</p></blockquote><ul><li>打开控制面板 - 所有控制面板 - Windows Defender防火墙 - 高级设置 <img src="https://i.loli.net/2019/08/03/Hb6LNcRUMAKpqCT.png" alt="高级设置" loading="lazy"></li><li>点击入站规则 - 新建规则 - 选择&quot;端口&quot;</li><li>应用于TCP，特定本地端口为3306（MySQL的默认端口）</li><li>然后无脑下一步，输入名称（你为这个入站规则起的名字）后点击完成即可</li></ul><hr><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料" aria-hidden="true">#</a> <em>参考资料</em></h2>',11),h={href:"https://gwh-08.iteye.com/blog/1396490",target:"_blank",rel:"noopener noreferrer"},u={href:"https://jingyan.baidu.com/article/09ea3ede7311dec0afde3977.html",target:"_blank",rel:"noopener noreferrer"};function p(_,m){const o=s("ExternalLinkIcon");return l(),i("div",null,[d,e("ul",null,[e("li",null,[e("a",h,[t("MySQL授权远程服务"),r(o)])]),e("li",null,[e("a",u,[t("Win10防火墙开放端口"),r(o)])])])])}const L=a(c,[["render",p],["__file","002_mysql_remote_access.html.vue"]]);export{L as default};
