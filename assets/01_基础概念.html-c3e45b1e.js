import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as n,c as o,a as e,b as l,d as a,e as r}from"./app-33ef3045.js";const s={},d=r('<h2 id="索引" tabindex="-1"><a class="header-anchor" href="#索引" aria-hidden="true">#</a> 索引</h2><p>索引分为普通索引、唯一索引、主键索引、组合索引、全文索引</p><h3 id="何时使用索引" tabindex="-1"><a class="header-anchor" href="#何时使用索引" aria-hidden="true">#</a> 何时使用索引</h3><p><em>MySQL 每次查询只使用一个索引（因为分析两个索引 B+ 树比全表扫描更慢）</em></p><ul><li><p>主键、Unique 字段</p></li><li><p>和其他表做连接的字段需要加索引</p></li><li><p>在 where 中使用&gt;、 ≥、 =、 &lt;、 ≤、 is null 、between 等字段</p></li><li><p>使用不以通配符开始的 like 字段</p></li><li><p>聚焦函数 MIN、MAX 中的字段</p></li><li><p>order by 和 group by 字段</p></li></ul><h3 id="索引何时失效" tabindex="-1"><a class="header-anchor" href="#索引何时失效" aria-hidden="true">#</a> 索引何时失效</h3><p>七字口诀：<strong>模型数空运最快</strong> <em>来自 「B 站 老猿说开发」</em></p><ul><li><p>模：模糊查询 LIKE 以%开头</p></li><li><p>型：数据类型错误</p></li><li><p>数：对索引字段使用内部函数</p></li><li><p>空：索引列是 NULL</p></li><li><p>运：索引列进行四则运算</p></li><li><p>最：联合索引不按索引列最左开始查找</p></li><li><p>快：全表查找预计比索引更快</p></li></ul><p>一些其他的情况</p><ul><li><p>查询一个索引而在另一个索引上做order by<br> 例如 where A = a order by B，只使用A上面的索引</p></li><li><p>or 会使索引失效，但是如果查询字段相同则不失效<br> 例如where A = a1 or A = a2（生效），where A = a or B = b（失效）</p></li><li><p>如果列类型是字符串，要使用引号<br> 例如 where A = &#39;a&#39; 不然会进行类型转化使得索引失效</p></li><li><p>在索引列上的操作，函数（upper()等）、or、！=(&lt;&gt;)、not in等</p></li></ul><h2 id="explain命令字段解释" tabindex="-1"><a class="header-anchor" href="#explain命令字段解释" aria-hidden="true">#</a> Explain命令字段解释</h2>',11),h={href:"http://sqlfiddle.com/",target:"_blank",rel:"noopener noreferrer"},c=r("<ul><li><p>type 字段</p><p>type字段为All，未使用索引；为ref，使用索引</p><ul><li><p><strong>ALL：</strong> 全表扫描</p></li><li><p><strong>index：</strong> 索引全扫描</p></li><li><p><strong>range：</strong> 索引范围扫描，常用语&lt;,&lt;=,&gt;=,between等操作</p></li><li><p><strong>ref：</strong> 使用非唯一索引扫描或唯一索引前缀扫描，返回单条记录，常出现在关联查询中</p></li><li><p><strong>eq_ref：</strong> 类似ref，区别在于使用的是唯一索引，使用主键的关联查询</p></li><li><p><strong>const/system：</strong> 单条记录，系统会把匹配行中的其他列作为常数处理，如主键或唯一索引查询</p></li><li><p><strong>null：</strong> MySQL不访问任何表或索引，直接返回结果</p></li></ul></li></ul><p>​​<!-- +++++++++ 下面是引用式链接 +++++++++ --></p>",2);function _(u,g){const i=t("ExternalLinkIcon");return n(),o("div",null,[d,e("blockquote",null,[e("p",null,[l("数据库查看索引生效网站 "),e("a",h,[l("SQL Fiddle"),a(i)])])]),c])}const m=p(s,[["render",_],["__file","01_基础概念.html.vue"]]);export{m as default};
