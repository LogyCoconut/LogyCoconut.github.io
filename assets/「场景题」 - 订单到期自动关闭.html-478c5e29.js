const e=JSON.parse('{"key":"v-71ed8833","path":"/00_Inbox/%E3%80%8C%E5%9C%BA%E6%99%AF%E9%A2%98%E3%80%8D%20-%20%E8%AE%A2%E5%8D%95%E5%88%B0%E6%9C%9F%E8%87%AA%E5%8A%A8%E5%85%B3%E9%97%AD.html","title":"如何实现订单到期自动关闭？","lang":"zh-CN","frontmatter":{"title":"如何实现订单到期自动关闭？","tag":["场景题"],"description":"如何实现订单到期自动关闭？ 定时任务 定期检查数据库中的订单记录 对于已经创建但未在设定时间内完成支付的订单，系统自动将其状态更新为「已关闭」 可以使用 elastic-job、xxl-job 等框架 定时任务这种方式简单有效，但是存在几个问题 时间精确性 定时任务一般基于固定的时间频率来执行的 那么，就会存在订单已经过期，但还没扫描到，那就导致订单比预期时间晚关闭，存在精度问题 如果定时任务设置的过于频繁，那它可能又会对服务器产生不小的影响 海量订单处理困难 定时任务不仅精度差，而且一次可能会筛选出来许多符合的数据 数据量一大，处理时间就会变长，导致任务超时 数据库压力大 短时间内需要处理大量的订单状态更新，可能会导致数据库高负荷甚至暂时的服务拥堵","head":[["meta",{"property":"og:url","content":"https://logycoconut.github.io/00_Inbox/%E3%80%8C%E5%9C%BA%E6%99%AF%E9%A2%98%E3%80%8D%20-%20%E8%AE%A2%E5%8D%95%E5%88%B0%E6%9C%9F%E8%87%AA%E5%8A%A8%E5%85%B3%E9%97%AD.html"}],["meta",{"property":"og:title","content":"如何实现订单到期自动关闭？"}],["meta",{"property":"og:description","content":"如何实现订单到期自动关闭？ 定时任务 定期检查数据库中的订单记录 对于已经创建但未在设定时间内完成支付的订单，系统自动将其状态更新为「已关闭」 可以使用 elastic-job、xxl-job 等框架 定时任务这种方式简单有效，但是存在几个问题 时间精确性 定时任务一般基于固定的时间频率来执行的 那么，就会存在订单已经过期，但还没扫描到，那就导致订单比预期时间晚关闭，存在精度问题 如果定时任务设置的过于频繁，那它可能又会对服务器产生不小的影响 海量订单处理困难 定时任务不仅精度差，而且一次可能会筛选出来许多符合的数据 数据量一大，处理时间就会变长，导致任务超时 数据库压力大 短时间内需要处理大量的订单状态更新，可能会导致数据库高负荷甚至暂时的服务拥堵"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-12T08:28:21.000Z"}],["meta",{"property":"article:author","content":"logycoconut"}],["meta",{"property":"article:tag","content":"场景题"}],["meta",{"property":"article:modified_time","content":"2024-07-12T08:28:21.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"如何实现订单到期自动关闭？\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-07-12T08:28:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"logycoconut\\",\\"url\\":\\"https://github.com/logycoconut\\"}]}"]]},"headers":[{"level":3,"title":"定时任务","slug":"定时任务","link":"#定时任务","children":[]},{"level":3,"title":"RocketMQ 延迟消息","slug":"rocketmq-延迟消息","link":"#rocketmq-延迟消息","children":[]},{"level":3,"title":"DelayQueue（Java）","slug":"delayqueue-java","link":"#delayqueue-java","children":[]},{"level":3,"title":"ZSet（Redis）","slug":"zset-redis","link":"#zset-redis","children":[]},{"level":3,"title":"HashedWheelTimer（Netty）","slug":"hashedwheeltimer-netty","link":"#hashedwheeltimer-netty","children":[]}],"git":{"createdTime":1720772901000,"updatedTime":1720772901000,"contributors":[{"name":"logycoconut","email":"logycoconut@foxmail.com","commits":1}]},"readingTime":{"minutes":3.5,"words":1051},"filePathRelative":"00_Inbox/「场景题」 - 订单到期自动关闭.md","localizedDate":"2024年7月12日","excerpt":"<h1> 如何实现订单到期自动关闭？</h1>\\n<h3> 定时任务</h3>\\n<p><strong>定期检查数据库中的订单记录</strong><br>\\n对于已经创建但未在设定时间内完成支付的订单，系统自动将其状态更新为「已关闭」</p>\\n<p>可以使用 <code>elastic-job</code>、<code>xxl-job</code> 等框架</p>\\n<p>定时任务这种方式简单有效，但是存在几个问题</p>\\n<ul>\\n<li>时间精确性<br>\\n定时任务一般基于固定的时间频率来执行的<br>\\n那么，就会存在订单已经过期，但还没扫描到，那就导致订单比预期时间晚关闭，存在精度问题<br>\\n如果定时任务设置的过于频繁，那它可能又会对服务器产生不小的影响</li>\\n<li>海量订单处理困难<br>\\n定时任务不仅精度差，而且一次可能会筛选出来许多符合的数据<br>\\n数据量一大，处理时间就会变长，导致任务超时</li>\\n<li>数据库压力大<br>\\n短时间内需要处理大量的订单状态更新，可能会导致数据库高负荷甚至暂时的服务拥堵</li>\\n</ul>","autoDesc":true}');export{e as data};
